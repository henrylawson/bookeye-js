<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>bookeye</title>
	<script type="text/javascript" src="lib/jquery-1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="lib/handlebars-1.0.0.beta.6/handlebars.js"></script>
	<script type="text/javascript" src="src/controllers.js"></script>
	<script type="text/javascript" src="src/views.js"></script>
	<script type="text/javascript" src="src/services.js"></script>
	<script type="text/javascript" src="src/repositories.js"></script>
	<script type="text/javascript" src="src/widgets.js"></script>
	<script type="text/javascript" src="src/filters.js"></script>
	<link href="lib/bootstrap-2.0.3/css/bootstrap.css" rel="stylesheet">
	<script type="text/javascript" src="lib/bootstrap-2.0.3/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="lib/bootstrap-2.0.3/components/bootstrap-alert.js"></script>
	<script type="text/javascript" src="lib/bootstrap-2.0.3/components/bootstrap-modal.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			var statusWidget = new StatusWidget($('#status'));
			var booksService = new BooksService(statusWidget, $.ajax);
			var booksRepository = new BooksRepository(booksService);
			var booksView = new BooksView();
			var booksController = new BooksController({
				displayElements: {
					all: $('#all-books'),
					form: $('#modal-storage'),
					deleteConfirm: $('#confirm'),
				},
				view: booksView,
				repository: booksRepository
			});
			booksController.all();
			
			var navigationWidget = new NavigationWidget($('#navigation ul.items'));
			navigationWidget.add("All", function() { booksController.all() });
			navigationWidget.add("Upcoming", function() { booksController.all(BookFilter.upcoming) });
			navigationWidget.add("Wishlist", function() { booksController.all(BookFilter.wishlist) });
			navigationWidget.add("Read", function() { booksController.all(BookFilter.read) });
			var rightNavigationWidget = new NavigationWidget($('#navigation ul.right-items'));
			rightNavigationWidget.add("Add Book", function() { booksController.new() }, '#navigation-widget-item-add');
		});
	</script>
	<link href="css/styles.css" rel="stylesheet">
</head>
<body>
	<div class="page-container">
		<div id="navigation">
			<div class="navbar navbar-fixed-top">
			  <div class="navbar-inner">
				<div class="page-container">
					<a class="brand" href="#">
					  bookeye
					</a>
					<ul class="items nav">
						<li class="divider-vertical"></li>
					</ul>
					<ul class="right-items nav pull-right">
					</ul>
				</div>
			  </div>
			</div>
		</div>
		<div id="confirm">
		</div>
		<div class="page-header">
			<h1>All books <small>Everythang!</small></h1>
		</div>
		<table class="table table-striped table-condensed">
			<thead>
				<tr>
					<th width="150px">Information</th>
					<th>Title</th>
					<th>Author</th>
					<th>Year</th>
					<th width="120px">Actions</th>
				</tr>
			</thead>
			<tbody id="all-books">
			</tbody>
		</table>
	</div>
	<div id="modal-storage"></div>
	<div id="status">
	</div>
</body>
</html>